---
title: 面向对象技术及C++02-类和数据抽象（一）
date: 2020-07-16 21:36:39
---

## 2.1 引言

### 什么是对象(object)

世界中的任何事物都是对象。对象由状态和行为封装(encapsulation)组合而成。

![什么是对象](./面向对象技术及C++02-类和数据抽象（一）/什么是对象.png)

### 对象的特点

1. 对象的状态只能被自己的行为所改变。对象之间通过消息(message)相互作用，一个对象可以向另一个对象发送消息，以达到相互联系的目的。
2. 面向对象程序设计(OOP)用软件方法模拟现实世界中的各种对象。在C++语言中，将具有相同属性和行为的对象抽象(abstract)为类(class)。
3. C++语言还利用继承(inheritance)的关系---新建类通过先用类派生建立。一个类中的一个行为可接收来自不同对象的不同类型的消息，并做出不同的反应，这就是面向对象程序设计中的**多态性**(polymorphism)。

### 面向对象程序设计的优点

1. 因为直接模拟了现实世界中的对象，因此这种设计方法更自然、更直观。 
2. 对象之间通过消息通信，因此可实现对象的自包含和相对独立性。 
3. 由于对象中封装了数据(状态)和函数(行为)，因此能实现信息隐藏(data hiding)，对另一个对象来说，它的实现细节完全隐藏。 

### 面向对象程序设计的特点总结

- 继承性
- 抽象性
- 封装性
- 多态性

### 面向对象程序设计的实现

通过类(class)这种自定义类型(user defined type)描述一组对象所共有的属性(数据成员 data member)和行为方法(成员函数 member function)。这实现了面向对象程序设计的**抽象性和封装性**。

通过类的导出（derive）机制建立新的类。这实现了面向对象程序设计的**继承性**。

通过函数名重载(function overloading)、运算符重载(operator overloading)和虚函数(virtual function)机制实现静态多态性和动态多态性。这实现了面向对象设计的**多态性**。

## 2.2 结构的定义

在C语言中，使用struct定义结构类型。struct和类型标志(tag)作为一个自定义的类型名使用。例： 

```c++
struct Time  
{ 
    int hour;
    int minute;    
    int second;  
}; 
```
定义了一个类型名称为struct Time的新类型。

在C++语言中，使用struct定义结构类型，类型标志位一个自定义的类型名使用。这里类型名称为Time。

在C语言中，结构直播暗含数据成员(data member)，而在C++语言中，除了包含数据成员之外，还允许包含成员函数(member function)_ 

## 2.3 访问结构的成员

访问结构成员(无论是数据成员，还是成员函数)均使用两个运算符：          
`.      -> `

这两个运算符都是双目(binary)运算符。 

`.`的左操作数是结构对象的名称，右操作数是结构中的某一个成员的名称。 <br/>
`->`的左操作数是指向结构对象指针的名称，右操作数也是结构中的某一个成员的名称。

### 程序例子

```c++
struct Time 
{  
    int hour;    
    int minute;    
    int second; 
}; 
Time t; 
Time* pt; 
…… 
cout << t.hour; 
pt = &t; 
cout << pt->minute;
```

## 2.4 用结构实现用户定义的类型

## 用类实现抽象数据类型

## 类的作用域和访问类的成员

## 接口和实现的分离

## 控制对成员的访问 

## 访问函数和工具函数

## 初始化类的对象：构造函数

## 在构造函数中使用默认参数 

## 析构函数的使用

## 调用析构函数和构造函数的时机 

## 数据成员和成员函数的使用

## 微妙的陷阱

## 逐个成员拷贝的默认赋值方式

## 软件的可重用性


![通用计算机分类](./面向对象技术及C++02-类和数据抽象（一）/什么是对象.png)