---
title:C语言05-函数
date: 2020-04-29 21:22:38
---

## 一、函数概述

1. C语言支持模块化程序设计风格，模块用函数描述。
2. 函数具有相对独立性,通过函数参数和返回值相互作用。
3. 实现控制抽象
4. 实现代码重用

![函数概述](./C语言05-函数/函数概述.png)

### 函数调用实例

```c
void printstar()
{ printf("*******************************\n"); }
 
void print_message()
  { printf("     How do you do!\n"); }
 
int main()
{ printstar();
  print_message();
  printstar();……
}
/*
运行结果
*******************************
     How do you do!
*******************************
*/
```

### 源程序文件

- 一个源程序文件由一个或多个函数组成，一个源文件(.c)是一个编译单位。
- 一个程序可以由一个或多个源程序文件(.c)组成。
- 连接程序将多个目标文件(.obj)以及相关库函数代码(.lib)连接起来。
- 在VS环境中，将几个源程序文件同时添加到一个工程中，在build时连接程序就能将它们连接起来。

### 程序执行

程序的执行从main函数开始。若在main函数中调用其他函数，在调用后控制流程返回到main函数，最终在main函数中结束整个程序的执行。

调用函数时启动被调用函数执行，执行完成后返回调用函数。main结束时返回操作系统，可认为main函数是由操作系统调用的。

**所有函数都是平行的，函数不能嵌套。**

### 函数分类

- 系统提供的，符合ANSI C规定的标准函数（库函数）vs 用户自己定义的函数
- 无参函数 vs 有参函数
- 无返回值函数 vs 有返回值函数 

## 二、函数定义

### 函数声明与原型

在函数中调用另一个函数时需要具备的条件：

1. 被调用函数必须是已经定义过的函数；
2. 当编译程序对函数扫描进行编译时，被调用函数的定义必须出现在主调函数之前。
3. 由于允许一个函数单独进行编译，同时为对函数调用进行正确性检查，所以在主调函数中必须要有关于被调函数的相关信息。为此，C语言提供了函数声明。函数声明使用函数原型。

### 函数原型

```
类型 函数名(类型1,类型2, …);

或

类型 函数名
      (类型1 变量名1, 类型名2 变量名2,…);
```

编译程序并不关心这些变量名，但能提高程序的可读性。

#### 函数原型实例

```c
double add(double,double);
int main()
{ double a,b;
  printf("Enter a and b with float: ");
  scanf("%lf%lf",&a,&b);
  printf("sum is %f\n",add(a,b));……
}
double add(double x, double y)
{ return x+y; }

//  函数定义可以看作是一个函数原型。
double add(double x, double y)
{ return x+y; }
int main()
{ double a,b;
  printf("Enter a and b with float: ");
  scanf("%lf%lf",&a,&b);
  printf("sum is %f\n",add(a,b));……
}
```

#### 库函数的函数原型

包含在相应的头文件中。因此，在调用库函数时，需要将相应的头文件包含进来。

```c
// 例如：
  #include <math.h>

  if (fabs(a)>5) 
  // …   
```

### #include 预编译命令

1. `#include <头文件>`
2. `#include "头文件"`

### 无参函数的定义

```
类型名 函数名( )
{ 
    说明部分
    执行语句部分
} 
```

类型名为void，表示无返回值函数。

类型名省略时，默认返回值类型为int。

### 有参函数的定义

```c
/* 
类型名 函数名(形式参数表)
{ 
    说明部分
    执行语句部分
} 
*/

// 例子
int Max(int x，int y)
{  return x>y?x:y； }
```

类型名为void，表示无返回值函数。

类型名省略时，默认返回值类型为int。

### 函数定义

![函数定义](./C语言05-函数/函数定义.png)

## 

## 

## 

## 

## 

![8253](./C语言05-函数/8253.png)
