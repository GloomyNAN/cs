---
title: 操作系统02-进程管理
date: 2020-07-21 16:40:59
---

![通用计算机分类](./操作系统02-进程管理/通用计算机分类.png)
![通用计算机分类](./操作系统02-进程管理/通用计算机分类.png)
![通用计算机分类](./操作系统02-进程管理/通用计算机分类.png)
![通用计算机分类](./操作系统02-进程管理/通用计算机分类.png)
![通用计算机分类](./操作系统02-进程管理/通用计算机分类.png)

## 2.1 进程的概念

## 2.2 进程控制

## 2.3 线程的概念

## 2.4 进程同步与互斥

## 2.5 进程通信

### 进程通信概述

- 进程通信方式：
  - 低级通信原语：交换信息量较少。如互斥，同步机构。
  - 高级通信原语：交换信息量较多。如直接通信，间接通信。
- 高级通信原语：
  - 直接通信：一个进程直接发送消息给接受者进程；Send(P,Msg); Receive(P,Msg);
  - 间接通信：进程通过一个“信箱”来传递消息。Send(A,Msg); Receive(A,Msg);

### 实现进程通信的方式

- 共享存储器方式：相互通信的进程通过共享某些数据结构或存储区来进行通信，可分为共享数据结构方式、共享存储区方式；
- 消息通信方式：进程间的消息交换以消息或报文为单位，程序员利用一组通信命令(原语)来实现通信，可分为直接、间接通信方式；
- 共享文件方式：利用共享文件来实现进程间的通信。 

### 直接方式

直接通信方式通过消息缓冲区实现通信，企图发送或接收消息的每个进程必须指出消息发给谁或从谁那里接收消息，用send原语和receive原语来实现进程之间的直接通信。 

- 共享文件模式：管道通信发送进程发消息时要指定接收进程的名字，接收时也要指明发送进程的名字。
  - Send(receiver, message) 
  - Receiver(sender, message)
  - 对称形式：一对一
  - 非对称形式：多对一 （学生/教师）
  - 有缓冲（有界，无界），无缓冲

![直接通信方式模型](./操作系统02-进程管理/直接通信方式模型.png)

### 间接通信

通过信箱（mailbox）实现通信，信箱是一种公共的存储区，作为通信的一种中间实体。在逻辑上信箱由信箱头和信箱体组成，每个信箱有自己唯一的标识符。其中信箱头指出信箱容量、信箱格式、存放信件位置的指针等；信箱体用来存放信件，包含若干个信格，每个格可容纳一封信。

1. send（发送消息）原语
   - send（A，信件）发送原语是把一封信件（消息）传送到信箱A。如果指定的信箱未满，则将信件送入信箱中，并唤醒等待该信箱中信件的进程；否则，发送信件者被置成等待信箱的阻塞状态。
2. receive（接收消息）原语
   - receive（A，信件）接收原语用来从信箱A接收一封信件（消息）。如果指定信箱中有信，则取出一封信，并唤醒等待信箱的进程；否则，接收信件者被置成等待信箱中信件的阻塞状态。

### 管道通信方式

管道通信方式，也称共享文件方式，基于文件系统，利用一个打开的共享文件连接两个相互通信的进程，文件作为缓冲传输介质。

![管道通信方式](./操作系统02-进程管理/管道通信方式.png)

### 消息传递实现的几个问题

- 信箱容量
- 信箱的所有权
- 通信进程的同步
- 信件的格式问题及其它相关问题
- 关于多进程与信箱相连的信件接收